# hokka-beaver-quiz 実用的費用シミュレーション

## 🎪 文化祭での実際の利用パターン

### シナリオA: 集中型（文化祭3日間）
```
- 期間: 3日間
- 参加者: 400人
- 同時アクセス: 最大100人
- 平均セッション: 10分/人
- データ保持: 1ヶ月後削除
```

### シナリオB: 分散型（1ヶ月継続）
```
- 期間: 1ヶ月間
- 参加者: 400人（段階的増加）
- 同時アクセス: 最大50人
- 平均セッション: 15分/人
- データ保持: 3ヶ月
```

## 💰 シナリオ別費用計算

### シナリオA: 集中型（3日間運用）

#### AWS費用（日割り計算）
| サービス | 月額（円） | 3日間（円） |
|----------|-----------|------------|
| EC2 t3.micro | 1,124 | 112 |
| RDS db.t3.micro | 1,836 | 184 |
| Storage | 465 | 47 |
| Elastic IP | 540 | 54 |
| Data Transfer | 203 | 203 |
| **合計** | **4,168** | **600** |

**3日間運用費用**: **約¥600**
**参加者1人当たり**: **¥1.5**

### シナリオB: 分散型（1ヶ月運用）

#### 段階的スケーリング
```
Week 1: 100人 → t3.micro
Week 2: 200人 → t3.small
Week 3: 300人 → t3.small  
Week 4: 400人 → t3.small
```

| 期間 | EC2費用 | RDS費用 | その他 | 週計 |
|------|---------|---------|--------|------|
| Week 1 | 281 | 459 | 300 | 1,040 |
| Week 2 | 500 | 459 | 350 | 1,309 |
| Week 3 | 500 | 459 | 400 | 1,359 |
| Week 4 | 500 | 459 | 450 | 1,409 |

**1ヶ月総費用**: **¥5,117**
**参加者1人当たり**: **¥12.8**

## 🎯 実用的推奨構成

### 文化祭向け最適構成（コスト重視）

```yaml
EC2: t3.micro (¥1,124/月)
RDS: なし (インメモリ+JSON使用)
Storage: EBS 8GB (¥120/月)
Network: Elastic IP (¥540/月)
Monitoring: CloudWatch Basic (無料)

月額総費用: ¥1,784
3日間費用: ¥178
参加者単価: ¥0.45/人
```

### 安定運用構成（信頼性重視）

```yaml
EC2: t3.small (¥2,248/月) 
RDS: db.t3.micro (¥2,181/月)
Storage: EBS 20GB + RDS 20GB (¥465/月)
Network: Elastic IP + CloudFront (¥640/月)
Monitoring: CloudWatch詳細 (¥300/月)

月額総費用: ¥5,834
3日間費用: ¥584
参加者単価: ¥1.46/人
```

## 📊 コストパフォーマンス比較

| 構成 | 月額費用 | 同時接続数 | 信頼性 | 推奨用途 |
|------|----------|-----------|--------|----------|
| **最小構成** | ¥1,800 | 50人 | ★★☆ | テスト・小規模 |
| **標準構成** | ¥4,500 | 100人 | ★★★ | **文化祭推奨** |
| **安定構成** | ¥5,800 | 200人 | ★★★★ | 商用・長期運用 |
| **高性能構成** | ¥8,000 | 400人+ | ★★★★★ | 大規模イベント |

## 🔥 緊急時スケーリング費用

### アクセス集中時の対応（文化祭当日）

**想定**: 同時300人アクセス → サーバーダウン

#### 緊急スケールアップ（1時間以内）
```
EC2: t3.micro → t3.small (追加¥37/時間)
RDS: なし → db.t3.micro起動 (追加¥2.5/時間)
CloudFront: 有効化 (¥100/日)

緊急対応費用: ¥300/日
```

## 💡 費用削減テクニック

### 1. 期間限定運用
- **文化祭前日起動**: -30%費用削減
- **終了後即停止**: -70%費用削減

### 2. データ最適化
- **画像圧縮**: -40%転送費削減
- **キャッシュ活用**: -60%RDS負荷削減

### 3. 時間帯制限
- **夜間自動停止**: -50%費用削減
- **休日のみ運用**: -70%費用削減

## 🎯 最終推奨

### 文化祭での実用的構成

```
予算: ¥5,000以内
期間: 文化祭期間+準備期間
参加者: 400人想定
構成: t3.small + インメモリDB

期待費用: ¥3,500-4,500/月
参加者単価: ¥9-11/人
```

### 予算別推奨構成

| 予算 | 構成 | 参加者数 | 特徴 |
|------|------|----------|------|
| ¥2,000 | 最小 | 100人 | テスト向け |
| ¥5,000 | 標準 | 400人 | **文化祭推奨** |
| ¥8,000 | 高性能 | 800人+ | 商用レベル |

---
**結論**: 400人規模の文化祭利用であれば、**月額¥4,500程度（参加者1人当たり¥11）**が適切な予算となります。